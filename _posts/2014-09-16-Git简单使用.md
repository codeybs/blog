---
layout: post
title: Git简单使用
date: 2014-09-16 21：36：36
categories: common
author: Baosheng Yu
---



-------------------------------

## 关于版本控制

版本控制是一种记录一个或者若干文件内容变化以便将来查阅特定版本修订情况的系统.

>   + 采用版本控制系统我们可以将某个文件或者整个项目回退到过去的一个时间状态。

>   + 可以比较文件的变化细节。

>   + 可以不用担心会将整个项目弄乱，因为恢复的额外工作量微乎其微。

--------------------------------

## 版本控制系统分类

>  + 本地版本控制系统。
      + 主要是利用简单的数据库来记录文件的历次更新差异。
      + 最流行的一种叫做RCS，它的只要工作原理就是保存并管理文件补丁
      + 文件补丁是一种特定格式的文本文件，记录着对应文件修订前后的内容变化，
      	所以根据每次修订后的补丁，可以不断的打补丁，根据补丁可以计算出每个版本的
	文件的内容。

>   + 集中化版本控制系统。 
      + 集中化版本控制系统的出现是为了解决不同系统的开发者协同工作的问题，典型的如CVS，Subversion等。
      + 主要的工作原理是使用一个集中管理的服务器保存所有文件的修订版本，协同工作的所有人可以从主服
      	务器获取最新版本，或者提交新的修订。
      + 主要的缺点是对主服务器的稳定性的依赖非常大。

>   + 分布式版本控制系统。
      + 分布式版本控制与集中化版本控制的主要区别在于：客户端每次的提取都是完整代码仓库的镜像，任何一个协同工作
	服务器出现故障都可以通过任何一个本地仓库恢复。
      + 这样的系统可以指定和不同的其他仓库进行交互。
      + 典型的分布式版本控制系有：Git，Mercurial,Bazaar,Dars等

------------------------------

## 关于Git

> Git的诞生是为了管理Linux操作系统的庞大代码，为了使得众多的项目参与者能够协同工作。

> Git的主要设计理念是：速度，简单的设计，支持非线性开发模式，完全分布式，高效。

--------------------------------

##  Git的简单使用介绍

1. Git安装
   + Linux系统：`sudo apt-get install git`

2. Git信息配置
   + 查看配置信息：`git config --list`
   + 配置Git的工作环境变量
     + 这些变量可以保存在不同的位置：`/etc/gitconfig`, `~/.gitconfig`,`WORKDIR/.git/config`
     + `/etc/gitconfig`:系统中的所有用户都适用，使用`git config --system`选项配置。
     + `～/.gitconfig`:位于用户目录下，适用于特定的用户下的所用项目，使用`git config --global`选项配置。
     + 项目目录的`.git/config`:适用于当前项目，使用`git config`配置。
     + 每一个配置都会覆盖上一级的配置。


-----------------------------------------------

## Git的基本命令介绍
   
1. `git init`
    + 初始化当前所在目录所在的项目，如果项目已经存在则重新初始化该项目。
    + 生成`.git`目录，保存git的相关数据和配置内容，`.git`目录的[详细介绍]().
    + 常见选项：
      + `-q | --quiet`:只输出警告和错误信息，其他信息将被压缩。
      + `--bare`:初始化成一个裸仓库。
      + `--template=<template_dir>`:模板目录下的内容将会被拷贝到`$GIT_DIR`.
      + `--separate-git-dir <git dir>`:Git仓库和工作树分离。
      + `--shared <=false|true|all>`：略。

2. `git add`
   + 将文件纳入版本控制.
   + 常用选项：
     + `-n, --dry-run`:不添加文件，只显示是否存在，是否被忽略。
     + `-v, --verbose`:详细。
     + `-f, --force`：允许添加忽略的文件。
     + `-i, --interactive`:以交互的方式添加文件。
     + `-u, --update`:更新与文件匹配的索引。
     + `-A,--all ,--no-ignore-removal`:添加所有的文件，包括已经删除的。
     + `--no-all ,--ignore-removal`:忽略已经删除的文件。
     + `-N, --intent-to-add`:记录将要添加的目录，使用`git commit -a`提交。
     + `--refresh`:不添加文件，只更新文件索引。
     + `--ignore-errors`:忽略添加文件过程中出现的错误，继续添加其他文件。
     + `--ignore-missing`:与`--dry-run`一起使用，检查是否将会有文件被忽略。
     + `--`:用于分割命令和文件名（尤其当二者相同时）.

3. `git status `
   + 检查文件状态，显示当前跟踪，未跟踪，修改等情况。
   + 常用选项：
     + `-s, --short`:以简短的方式输出。
     + `-b, --branch`:显示分支和跟踪信息。
     + `--porcelain`:以适合粘贴的形式输出。
     + `--long`:以完整形式输出。
     + `-u MODE, --untracked-files=MODE`:显示未跟踪的文件。
       + MODE：no(不显示)，normal(显示未跟踪的文件和目录)，all(并且显示未被跟踪目录下的文件)。
     + `--ignored`:显示被忽略的文件。
     + `-z`:结束符使用NUL，不使用LF。
     + `--column,--no-column`:是否以列的形式显示未被跟踪的文件。

4. `git commit`:
   + 用于提交新的改变到本地仓库。
   + 常用选项：
     + `-a,--all`:首先暂存所有的已被修改的文件，删除的文件，然后提交（注意没有被跟踪的新文件不会被暂存，提交）。
     + `-p, --patch`:用交互的方式选择提交那些改变。
     + `-C<commit>,--reuse-message=<commit>`:使用某次提交的作者，时间戳，commit message等信息。
     + `-c<commit>, --reedit-message=<commit>`:使用某次提交的作者，时间戳等信息并重新编辑commit message。
     + `--short`:short-format.
     + `--branch`:显示分支跟踪的信息（以short format）。
     + `--long`:long format.
     + `-F <file>, --file=file`:从指定文件读取commit message。
     + `-m <msg>，--message=<msg>`:添加commit messsage.
     + `-t <file>,--template=<file>`:commit message 模板。
     + `-s,--signoff`:由提交者添加签名。
     + `--allow-empty`:提交一次相同的版本。
     + `-e,--edit`:编辑commit message。
     + `--no-edit`:使用模板信息，不编辑commit message。
     + `-o,--only`:只提交指定文件或目录的更改。
     + `-u <mode>,--untracked-files=<mode>`:显示未被跟踪的文件。
       + MODE：`no`,`all`,`normal`.
     + `-v,--verbose`:在提交信息中显示于HEAD所指提交版本的差别。
     + `--amend`:

--------------------------------------------------

## Git 仓库克隆

+ `git clone [url] [newname]`:用于克隆某个项目的Git仓库。
+ Git支持多种数据传输协议：
  + `git://`：Git协议。
  + `http(s)://`：HTTP超文本传输协议（安全）。
  + `user@server:/path.git`:SSH协议。
	
------------------------------------------------

